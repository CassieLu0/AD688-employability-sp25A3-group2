<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ling Lu">
<meta name="author" content="Luoyan Zhang">
<meta name="author" content="Yinuo Wang">
<meta name="dcterms.date" content="2025-04-21">

<title>Multiple Regression – Job Market Analysis 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-4f17641596142cbde708c01b3a465e62.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-991b3836a482b2004fac36c162086f17.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Job Market Analysis 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./introduction.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_analysis.html"> 
<span class="menu-text">Exploratory Data Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./skill_gap_analysis.html"> 
<span class="menu-text">Skill Gap Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./multiple_regression.html" aria-current="page"> 
<span class="menu-text">Multiple Regression</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./kmeans_clustering.html"> 
<span class="menu-text">KMeans Clustering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Text_Analysis.html"> 
<span class="menu-text">Text Analysis</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#objectives" id="toc-objectives" class="nav-link active" data-scroll-target="#objectives">Objectives</a></li>
  <li><a href="#load-the-dataset" id="toc-load-the-dataset" class="nav-link" data-scroll-target="#load-the-dataset">Load the dataset</a></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning">Data Cleaning</a></li>
  <li><a href="#traintest-split" id="toc-traintest-split" class="nav-link" data-scroll-target="#traintest-split">Train/Test Split</a></li>
  <li><a href="#fit-and-evaluate-the-model" id="toc-fit-and-evaluate-the-model" class="nav-link" data-scroll-target="#fit-and-evaluate-the-model">Fit and Evaluate the Model</a>
  <ul class="collapse">
  <li><a href="#rmse-r²" id="toc-rmse-r²" class="nav-link" data-scroll-target="#rmse-r²">RMSE &amp; R²</a></li>
  <li><a href="#correlation" id="toc-correlation" class="nav-link" data-scroll-target="#correlation">Correlation</a></li>
  <li><a href="#feature-importance-for-random-forest" id="toc-feature-importance-for-random-forest" class="nav-link" data-scroll-target="#feature-importance-for-random-forest">Feature Importance (for Random Forest)</a></li>
  <li><a href="#insights_top-10-feature-importances-random-forest" id="toc-insights_top-10-feature-importances-random-forest" class="nav-link" data-scroll-target="#insights_top-10-feature-importances-random-forest">Insights_Top 10 Feature Importances (Random Forest):</a></li>
  <li><a href="#residual-analysis-for-regression" id="toc-residual-analysis-for-regression" class="nav-link" data-scroll-target="#residual-analysis-for-regression">Residual Analysis (for Regression)</a></li>
  <li><a href="#insights_random-forest-predictions-vs.-actual-salaries" id="toc-insights_random-forest-predictions-vs.-actual-salaries" class="nav-link" data-scroll-target="#insights_random-forest-predictions-vs.-actual-salaries">Insights_Random Forest Predictions vs.&nbsp;Actual Salaries:</a></li>
  <li><a href="#salary-by-state" id="toc-salary-by-state" class="nav-link" data-scroll-target="#salary-by-state">Salary by State</a></li>
  <li><a href="#insights_average-salary-by-state" id="toc-insights_average-salary-by-state" class="nav-link" data-scroll-target="#insights_average-salary-by-state">Insights_Average Salary by State</a></li>
  <li><a href="#remote-vs-on-site-by-state-or-industry" id="toc-remote-vs-on-site-by-state-or-industry" class="nav-link" data-scroll-target="#remote-vs-on-site-by-state-or-industry">Remote vs On-site by State or Industry</a></li>
  <li><a href="#insights_remote-vs.-on-site-jobs-by-state-top-10" id="toc-insights_remote-vs.-on-site-jobs-by-state-top-10" class="nav-link" data-scroll-target="#insights_remote-vs.-on-site-jobs-by-state-top-10">Insights_Remote vs.&nbsp;On-site Jobs by State (Top 10):</a></li>
  </ul></li>
  <li><a href="#job-seeker-recommendation" id="toc-job-seeker-recommendation" class="nav-link" data-scroll-target="#job-seeker-recommendation">Job Seeker Recommendation</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Multiple Regression</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Ling Lu </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Boston University
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Luoyan Zhang </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Boston University
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Yinuo Wang </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Boston University
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 21, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="objectives" class="level1">
<h1>Objectives</h1>
<ul>
<li>Using salary as the target variable</li>
<li>Multiple Linear Regression</li>
<li>Random Forest Regression</li>
</ul>
</section>
<section id="load-the-dataset" class="level1">
<h1>Load the dataset</h1>
<div id="cell-3" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_columns'</span>, <span class="va">None</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"lightcast_job_postings.csv"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the first few rows</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>df.info()</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 72498 entries, 0 to 72497
Columns: 118 entries, id to naics_2022_6_name
dtypes: float64(38), object(80)
memory usage: 65.3+ MB</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">last_updated_date</th>
<th data-quarto-table-cell-role="th">last_updated_timestamp</th>
<th data-quarto-table-cell-role="th">duplicates</th>
<th data-quarto-table-cell-role="th">posted</th>
<th data-quarto-table-cell-role="th">expired</th>
<th data-quarto-table-cell-role="th">duration</th>
<th data-quarto-table-cell-role="th">title_raw</th>
<th data-quarto-table-cell-role="th">body</th>
<th data-quarto-table-cell-role="th">modeled_expired</th>
<th data-quarto-table-cell-role="th">modeled_duration</th>
<th data-quarto-table-cell-role="th">company</th>
<th data-quarto-table-cell-role="th">company_name</th>
<th data-quarto-table-cell-role="th">company_raw</th>
<th data-quarto-table-cell-role="th">company_is_staffing</th>
<th data-quarto-table-cell-role="th">education_levels</th>
<th data-quarto-table-cell-role="th">education_levels_name</th>
<th data-quarto-table-cell-role="th">min_edu_levels</th>
<th data-quarto-table-cell-role="th">min_edu_levels_name</th>
<th data-quarto-table-cell-role="th">max_edu_levels</th>
<th data-quarto-table-cell-role="th">max_edu_levels_name</th>
<th data-quarto-table-cell-role="th">employment_type</th>
<th data-quarto-table-cell-role="th">employment_type_name</th>
<th data-quarto-table-cell-role="th">min_years_experience</th>
<th data-quarto-table-cell-role="th">max_years_experience</th>
<th data-quarto-table-cell-role="th">is_internship</th>
<th data-quarto-table-cell-role="th">salary</th>
<th data-quarto-table-cell-role="th">remote_type</th>
<th data-quarto-table-cell-role="th">remote_type_name</th>
<th data-quarto-table-cell-role="th">original_pay_period</th>
<th data-quarto-table-cell-role="th">salary_to</th>
<th data-quarto-table-cell-role="th">salary_from</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">city</th>
<th data-quarto-table-cell-role="th">city_name</th>
<th data-quarto-table-cell-role="th">county</th>
<th data-quarto-table-cell-role="th">county_name</th>
<th data-quarto-table-cell-role="th">msa</th>
<th data-quarto-table-cell-role="th">msa_name</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">state_name</th>
<th data-quarto-table-cell-role="th">county_outgoing</th>
<th data-quarto-table-cell-role="th">county_name_outgoing</th>
<th data-quarto-table-cell-role="th">county_incoming</th>
<th data-quarto-table-cell-role="th">county_name_incoming</th>
<th data-quarto-table-cell-role="th">msa_outgoing</th>
<th data-quarto-table-cell-role="th">msa_name_outgoing</th>
<th data-quarto-table-cell-role="th">msa_incoming</th>
<th data-quarto-table-cell-role="th">msa_name_incoming</th>
<th data-quarto-table-cell-role="th">naics2</th>
<th data-quarto-table-cell-role="th">naics2_name</th>
<th data-quarto-table-cell-role="th">naics3</th>
<th data-quarto-table-cell-role="th">naics3_name</th>
<th data-quarto-table-cell-role="th">naics4</th>
<th data-quarto-table-cell-role="th">naics4_name</th>
<th data-quarto-table-cell-role="th">naics5</th>
<th data-quarto-table-cell-role="th">naics5_name</th>
<th data-quarto-table-cell-role="th">naics6</th>
<th data-quarto-table-cell-role="th">naics6_name</th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">title_name</th>
<th data-quarto-table-cell-role="th">title_clean</th>
<th data-quarto-table-cell-role="th">certifications</th>
<th data-quarto-table-cell-role="th">certifications_name</th>
<th data-quarto-table-cell-role="th">onet</th>
<th data-quarto-table-cell-role="th">onet_name</th>
<th data-quarto-table-cell-role="th">onet_2019</th>
<th data-quarto-table-cell-role="th">onet_2019_name</th>
<th data-quarto-table-cell-role="th">cip6</th>
<th data-quarto-table-cell-role="th">cip6_name</th>
<th data-quarto-table-cell-role="th">cip4</th>
<th data-quarto-table-cell-role="th">cip4_name</th>
<th data-quarto-table-cell-role="th">cip2</th>
<th data-quarto-table-cell-role="th">cip2_name</th>
<th data-quarto-table-cell-role="th">soc_2021_2</th>
<th data-quarto-table-cell-role="th">soc_2021_2_name</th>
<th data-quarto-table-cell-role="th">soc_2021_3</th>
<th data-quarto-table-cell-role="th">soc_2021_3_name</th>
<th data-quarto-table-cell-role="th">soc_2021_4</th>
<th data-quarto-table-cell-role="th">soc_2021_4_name</th>
<th data-quarto-table-cell-role="th">soc_2021_5</th>
<th data-quarto-table-cell-role="th">soc_2021_5_name</th>
<th data-quarto-table-cell-role="th">lot_career_area</th>
<th data-quarto-table-cell-role="th">lot_career_area_name</th>
<th data-quarto-table-cell-role="th">lot_occupation</th>
<th data-quarto-table-cell-role="th">lot_occupation_name</th>
<th data-quarto-table-cell-role="th">lot_specialized_occupation</th>
<th data-quarto-table-cell-role="th">lot_specialized_occupation_name</th>
<th data-quarto-table-cell-role="th">lot_occupation_group</th>
<th data-quarto-table-cell-role="th">lot_occupation_group_name</th>
<th data-quarto-table-cell-role="th">lot_v6_specialized_occupation</th>
<th data-quarto-table-cell-role="th">lot_v6_specialized_occupation_name</th>
<th data-quarto-table-cell-role="th">lot_v6_occupation</th>
<th data-quarto-table-cell-role="th">lot_v6_occupation_name</th>
<th data-quarto-table-cell-role="th">lot_v6_occupation_group</th>
<th data-quarto-table-cell-role="th">lot_v6_occupation_group_name</th>
<th data-quarto-table-cell-role="th">lot_v6_career_area</th>
<th data-quarto-table-cell-role="th">lot_v6_career_area_name</th>
<th data-quarto-table-cell-role="th">soc_2</th>
<th data-quarto-table-cell-role="th">soc_2_name</th>
<th data-quarto-table-cell-role="th">soc_3</th>
<th data-quarto-table-cell-role="th">soc_3_name</th>
<th data-quarto-table-cell-role="th">soc_4</th>
<th data-quarto-table-cell-role="th">soc_4_name</th>
<th data-quarto-table-cell-role="th">soc_5</th>
<th data-quarto-table-cell-role="th">soc_5_name</th>
<th data-quarto-table-cell-role="th">lightcast_sectors</th>
<th data-quarto-table-cell-role="th">lightcast_sectors_name</th>
<th data-quarto-table-cell-role="th">naics_2022_2</th>
<th data-quarto-table-cell-role="th">naics_2022_2_name</th>
<th data-quarto-table-cell-role="th">naics_2022_3</th>
<th data-quarto-table-cell-role="th">naics_2022_3_name</th>
<th data-quarto-table-cell-role="th">naics_2022_4</th>
<th data-quarto-table-cell-role="th">naics_2022_4_name</th>
<th data-quarto-table-cell-role="th">naics_2022_5</th>
<th data-quarto-table-cell-role="th">naics_2022_5_name</th>
<th data-quarto-table-cell-role="th">naics_2022_6</th>
<th data-quarto-table-cell-role="th">naics_2022_6_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1f57d95acf4dc67ed2819eb12f049f6a5c11782c</td>
<td>9/6/2024</td>
<td>32:57.4</td>
<td>0.0</td>
<td>6/2/2024</td>
<td>6/8/2024</td>
<td>6.0</td>
<td>Enterprise Analyst (II-III)</td>
<td>31-May-2024\n\nEnterprise Analyst (II-III)\n\n...</td>
<td>False</td>
<td>6.0</td>
<td>894731.0</td>
<td>Murphy USA</td>
<td>Murphy USA</td>
<td>False</td>
<td>[\n 2\n]</td>
<td>[\n "Bachelor's degree"\n]</td>
<td>2.0</td>
<td>Bachelor's degree</td>
<td>NaN</td>
<td>NaN</td>
<td>1.0</td>
<td>Full-time (&gt; 32 hours)</td>
<td>2.0</td>
<td>2.0</td>
<td>False</td>
<td>NaN</td>
<td>0.0</td>
<td>[None]</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>{\n "lat": 33.20763,\n "lon": -92.6662674\n}</td>
<td>RWwgRG9yYWRvLCBBUg==</td>
<td>El Dorado, AR</td>
<td>5139.0</td>
<td>Union, AR</td>
<td>20980.0</td>
<td>El Dorado, AR</td>
<td>5.0</td>
<td>Arkansas</td>
<td>5139.0</td>
<td>Union, AR</td>
<td>5139.0</td>
<td>Union, AR</td>
<td>20980.0</td>
<td>El Dorado, AR</td>
<td>20980.0</td>
<td>El Dorado, AR</td>
<td>44.0</td>
<td>Retail Trade</td>
<td>441.0</td>
<td>Motor Vehicle and Parts Dealers</td>
<td>4413.0</td>
<td>Automotive Parts, Accessories, and Tire Retailers</td>
<td>44133.0</td>
<td>Automotive Parts and Accessories Retailers</td>
<td>441330.0</td>
<td>Automotive Parts and Accessories Retailers</td>
<td>ET29C073C03D1F86B4</td>
<td>Enterprise Analysts</td>
<td>enterprise analyst ii iii</td>
<td>[]</td>
<td>[]</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>[\n "45.0601",\n "27.0101"\n]</td>
<td>[\n "Economics, General",\n "Mathematics, Ge...</td>
<td>[\n "45.06",\n "27.01"\n]</td>
<td>[\n "Economics",\n "Mathematics"\n]</td>
<td>[\n "45",\n "27"\n]</td>
<td>[\n "Social Sciences",\n "Mathematics and St...</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>231010.0</td>
<td>Business Intelligence Analyst</td>
<td>23101011.0</td>
<td>General ERP Analyst / Consultant</td>
<td>2310.0</td>
<td>Business Intelligence</td>
<td>23101011.0</td>
<td>General ERP Analyst / Consultant</td>
<td>231010.0</td>
<td>Business Intelligence Analyst</td>
<td>2310.0</td>
<td>Business Intelligence</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>[\n 7\n]</td>
<td>[\n "Artificial Intelligence"\n]</td>
<td>44.0</td>
<td>Retail Trade</td>
<td>441.0</td>
<td>Motor Vehicle and Parts Dealers</td>
<td>4413.0</td>
<td>Automotive Parts, Accessories, and Tire Retailers</td>
<td>44133.0</td>
<td>Automotive Parts and Accessories Retailers</td>
<td>441330.0</td>
<td>Automotive Parts and Accessories Retailers</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0cb072af26757b6c4ea9464472a50a443af681ac</td>
<td>8/2/2024</td>
<td>08:58.8</td>
<td>0.0</td>
<td>6/2/2024</td>
<td>8/1/2024</td>
<td>NaN</td>
<td>Oracle Consultant - Reports (3592)</td>
<td>Oracle Consultant - Reports (3592)\n\nat SMX i...</td>
<td>False</td>
<td>NaN</td>
<td>133098.0</td>
<td>Smx Corporation Limited</td>
<td>SMX</td>
<td>True</td>
<td>[\n 99\n]</td>
<td>[\n "No Education Listed"\n]</td>
<td>99.0</td>
<td>No Education Listed</td>
<td>NaN</td>
<td>NaN</td>
<td>1.0</td>
<td>Full-time (&gt; 32 hours)</td>
<td>3.0</td>
<td>3.0</td>
<td>False</td>
<td>NaN</td>
<td>1.0</td>
<td>Remote</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>{\n "lat": 44.3106241,\n "lon": -69.7794897\n}</td>
<td>QXVndXN0YSwgTUU=</td>
<td>Augusta, ME</td>
<td>23011.0</td>
<td>Kennebec, ME</td>
<td>12300.0</td>
<td>Augusta-Waterville, ME</td>
<td>23.0</td>
<td>Maine</td>
<td>23011.0</td>
<td>Kennebec, ME</td>
<td>23011.0</td>
<td>Kennebec, ME</td>
<td>12300.0</td>
<td>Augusta-Waterville, ME</td>
<td>12300.0</td>
<td>Augusta-Waterville, ME</td>
<td>56.0</td>
<td>Administrative and Support and Waste Managemen...</td>
<td>561.0</td>
<td>Administrative and Support Services</td>
<td>5613.0</td>
<td>Employment Services</td>
<td>56132.0</td>
<td>Temporary Help Services</td>
<td>561320.0</td>
<td>Temporary Help Services</td>
<td>ET21DDA63780A7DC09</td>
<td>Oracle Consultants</td>
<td>oracle consultant reports</td>
<td>[]</td>
<td>[]</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>231010.0</td>
<td>Business Intelligence Analyst</td>
<td>23101012.0</td>
<td>Oracle Consultant / Analyst</td>
<td>2310.0</td>
<td>Business Intelligence</td>
<td>23101012.0</td>
<td>Oracle Consultant / Analyst</td>
<td>231010.0</td>
<td>Business Intelligence Analyst</td>
<td>2310.0</td>
<td>Business Intelligence</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>NaN</td>
<td>NaN</td>
<td>56.0</td>
<td>Administrative and Support and Waste Managemen...</td>
<td>561.0</td>
<td>Administrative and Support Services</td>
<td>5613.0</td>
<td>Employment Services</td>
<td>56132.0</td>
<td>Temporary Help Services</td>
<td>561320.0</td>
<td>Temporary Help Services</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>85318b12b3331fa490d32ad014379df01855c557</td>
<td>9/6/2024</td>
<td>32:57.4</td>
<td>1.0</td>
<td>6/2/2024</td>
<td>7/7/2024</td>
<td>35.0</td>
<td>Data Analyst</td>
<td>Taking care of people is at the heart of every...</td>
<td>False</td>
<td>8.0</td>
<td>39063746.0</td>
<td>Sedgwick</td>
<td>Sedgwick</td>
<td>False</td>
<td>[\n 2\n]</td>
<td>[\n "Bachelor's degree"\n]</td>
<td>2.0</td>
<td>Bachelor's degree</td>
<td>NaN</td>
<td>NaN</td>
<td>1.0</td>
<td>Full-time (&gt; 32 hours)</td>
<td>5.0</td>
<td>NaN</td>
<td>False</td>
<td>NaN</td>
<td>0.0</td>
<td>[None]</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>{\n "lat": 32.7766642,\n "lon": -96.7969879\n}</td>
<td>RGFsbGFzLCBUWA==</td>
<td>Dallas, TX</td>
<td>48113.0</td>
<td>Dallas, TX</td>
<td>19100.0</td>
<td>Dallas-Fort Worth-Arlington, TX</td>
<td>48.0</td>
<td>Texas</td>
<td>48113.0</td>
<td>Dallas, TX</td>
<td>48113.0</td>
<td>Dallas, TX</td>
<td>19100.0</td>
<td>Dallas-Fort Worth-Arlington, TX</td>
<td>19100.0</td>
<td>Dallas-Fort Worth-Arlington, TX</td>
<td>52.0</td>
<td>Finance and Insurance</td>
<td>524.0</td>
<td>Insurance Carriers and Related Activities</td>
<td>5242.0</td>
<td>Agencies, Brokerages, and Other Insurance Rela...</td>
<td>52429.0</td>
<td>Other Insurance Related Activities</td>
<td>524291.0</td>
<td>Claims Adjusting</td>
<td>ET3037E0C947A02404</td>
<td>Data Analysts</td>
<td>data analyst</td>
<td>[\n "KS683TN76T77DQDVBZ1B"\n]</td>
<td>[\n "Security Clearance"\n]</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>231113.0</td>
<td>Data / Data Mining Analyst</td>
<td>23111310.0</td>
<td>Data Analyst</td>
<td>2311.0</td>
<td>Data Analysis and Mathematics</td>
<td>23111310.0</td>
<td>Data Analyst</td>
<td>231113.0</td>
<td>Data / Data Mining Analyst</td>
<td>2311.0</td>
<td>Data Analysis and Mathematics</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>NaN</td>
<td>NaN</td>
<td>52.0</td>
<td>Finance and Insurance</td>
<td>524.0</td>
<td>Insurance Carriers and Related Activities</td>
<td>5242.0</td>
<td>Agencies, Brokerages, and Other Insurance Rela...</td>
<td>52429.0</td>
<td>Other Insurance Related Activities</td>
<td>524291.0</td>
<td>Claims Adjusting</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1b5c3941e54a1889ef4f8ae55b401a550708a310</td>
<td>9/6/2024</td>
<td>32:57.4</td>
<td>1.0</td>
<td>6/2/2024</td>
<td>7/20/2024</td>
<td>48.0</td>
<td>Sr. Lead Data Mgmt. Analyst - SAS Product Owner</td>
<td>About this role:\n\nWells Fargo is looking for...</td>
<td>False</td>
<td>10.0</td>
<td>37615159.0</td>
<td>Wells Fargo</td>
<td>Wells Fargo</td>
<td>False</td>
<td>[\n 99\n]</td>
<td>[\n "No Education Listed"\n]</td>
<td>99.0</td>
<td>No Education Listed</td>
<td>NaN</td>
<td>NaN</td>
<td>1.0</td>
<td>Full-time (&gt; 32 hours)</td>
<td>3.0</td>
<td>NaN</td>
<td>False</td>
<td>NaN</td>
<td>0.0</td>
<td>[None]</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>{\n "lat": 33.4483771,\n "lon": -112.0740373\n}</td>
<td>UGhvZW5peCwgQVo=</td>
<td>Phoenix, AZ</td>
<td>4013.0</td>
<td>Maricopa, AZ</td>
<td>38060.0</td>
<td>Phoenix-Mesa-Chandler, AZ</td>
<td>4.0</td>
<td>Arizona</td>
<td>4013.0</td>
<td>Maricopa, AZ</td>
<td>4013.0</td>
<td>Maricopa, AZ</td>
<td>38060.0</td>
<td>Phoenix-Mesa-Chandler, AZ</td>
<td>38060.0</td>
<td>Phoenix-Mesa-Chandler, AZ</td>
<td>52.0</td>
<td>Finance and Insurance</td>
<td>522.0</td>
<td>Credit Intermediation and Related Activities</td>
<td>5221.0</td>
<td>Depository Credit Intermediation</td>
<td>52211.0</td>
<td>Commercial Banking</td>
<td>522110.0</td>
<td>Commercial Banking</td>
<td>ET2114E0404BA30075</td>
<td>Management Analysts</td>
<td>sr lead data mgmt analyst sas product owner</td>
<td>[]</td>
<td>[]</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>231113.0</td>
<td>Data / Data Mining Analyst</td>
<td>23111310.0</td>
<td>Data Analyst</td>
<td>2311.0</td>
<td>Data Analysis and Mathematics</td>
<td>23111310.0</td>
<td>Data Analyst</td>
<td>231113.0</td>
<td>Data / Data Mining Analyst</td>
<td>2311.0</td>
<td>Data Analysis and Mathematics</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>[\n 6\n]</td>
<td>[\n "Data Privacy/Protection"\n]</td>
<td>52.0</td>
<td>Finance and Insurance</td>
<td>522.0</td>
<td>Credit Intermediation and Related Activities</td>
<td>5221.0</td>
<td>Depository Credit Intermediation</td>
<td>52211.0</td>
<td>Commercial Banking</td>
<td>522110.0</td>
<td>Commercial Banking</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>cb5ca25f02bdf25c13edfede7931508bfd9e858f</td>
<td>6/19/2024</td>
<td>00:00.0</td>
<td>0.0</td>
<td>6/2/2024</td>
<td>6/17/2024</td>
<td>15.0</td>
<td>Comisiones de $1000 - $3000 por semana... Comi...</td>
<td>Comisiones de $1000 - $3000 por semana... Comi...</td>
<td>False</td>
<td>15.0</td>
<td>0.0</td>
<td>Unclassified</td>
<td>LH/GM</td>
<td>False</td>
<td>[\n 99\n]</td>
<td>[\n "No Education Listed"\n]</td>
<td>99.0</td>
<td>No Education Listed</td>
<td>NaN</td>
<td>NaN</td>
<td>3.0</td>
<td>Part-time / full-time</td>
<td>NaN</td>
<td>NaN</td>
<td>False</td>
<td>92500.0</td>
<td>0.0</td>
<td>[None]</td>
<td>year</td>
<td>150000.0</td>
<td>35000.0</td>
<td>{\n "lat": 37.6392595,\n "lon": -120.9970014\n}</td>
<td>TW9kZXN0bywgQ0E=</td>
<td>Modesto, CA</td>
<td>6099.0</td>
<td>Stanislaus, CA</td>
<td>33700.0</td>
<td>Modesto, CA</td>
<td>6.0</td>
<td>California</td>
<td>6099.0</td>
<td>Stanislaus, CA</td>
<td>6099.0</td>
<td>Stanislaus, CA</td>
<td>33700.0</td>
<td>Modesto, CA</td>
<td>33700.0</td>
<td>Modesto, CA</td>
<td>99.0</td>
<td>Unclassified Industry</td>
<td>999.0</td>
<td>Unclassified Industry</td>
<td>9999.0</td>
<td>Unclassified Industry</td>
<td>99999.0</td>
<td>Unclassified Industry</td>
<td>999999.0</td>
<td>Unclassified Industry</td>
<td>ET0000000000000000</td>
<td>Unclassified</td>
<td>comisiones de por semana comiensa rapido</td>
<td>[]</td>
<td>[]</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>15-2051.01</td>
<td>Business Intelligence Analysts</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>[]</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>231010.0</td>
<td>Business Intelligence Analyst</td>
<td>23101012.0</td>
<td>Oracle Consultant / Analyst</td>
<td>2310.0</td>
<td>Business Intelligence</td>
<td>23101012.0</td>
<td>Oracle Consultant / Analyst</td>
<td>231010.0</td>
<td>Business Intelligence Analyst</td>
<td>2310.0</td>
<td>Business Intelligence</td>
<td>23.0</td>
<td>Information Technology and Computer Science</td>
<td>15-0000</td>
<td>Computer and Mathematical Occupations</td>
<td>15-2000</td>
<td>Mathematical Science Occupations</td>
<td>15-2050</td>
<td>Data Scientists</td>
<td>15-2051</td>
<td>Data Scientists</td>
<td>NaN</td>
<td>NaN</td>
<td>99.0</td>
<td>Unclassified Industry</td>
<td>999.0</td>
<td>Unclassified Industry</td>
<td>9999.0</td>
<td>Unclassified Industry</td>
<td>99999.0</td>
<td>Unclassified Industry</td>
<td>999999.0</td>
<td>Unclassified Industry</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="data-cleaning" class="level1">
<h1>Data Cleaning</h1>
<div id="cell-5" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">"salary"</span>, <span class="st">"education_levels_name"</span>, <span class="st">"employment_type_name"</span>, <span class="st">"min_years_experience"</span>, <span class="st">"title_name"</span>]].isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>salary                   41690
education_levels_name       44
employment_type_name        44
min_years_experience     23146
title_name                  44
dtype: int64</code></pre>
</div>
</div>
<div id="cell-6" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df_clean <span class="op">=</span> df.dropna(subset<span class="op">=</span>[<span class="st">"salary"</span>, <span class="st">"min_years_experience"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="traintest-split" class="level1">
<h1>Train/Test Split</h1>
<div id="cell-8" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Choose the feature columns and target</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>features <span class="op">=</span> [<span class="st">"education_levels_name"</span>, <span class="st">"employment_type_name"</span>, <span class="st">"min_years_experience"</span>, <span class="st">"title_name"</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>target <span class="op">=</span> <span class="st">"salary"</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate the feature set (X) and target (y)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df_clean[features]</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df_clean[target]</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>X_encoded <span class="op">=</span> pd.get_dummies(X, drop_first<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X_encoded, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">688</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fit-and-evaluate-the-model" class="level1">
<h1>Fit and Evaluate the Model</h1>
<div id="cell-10" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>lin_reg <span class="op">=</span> LinearRegression()</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>lin_reg.fit(X_train, y_train)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>y_pred_lin <span class="op">=</span> lin_reg.predict(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-11" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>rf_reg <span class="op">=</span> RandomForestRegressor(n_estimators<span class="op">=</span><span class="dv">100</span>, random_state<span class="op">=</span><span class="dv">688</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>rf_reg.fit(X_train, y_train)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>y_pred_rf <span class="op">=</span> rf_reg.predict(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="rmse-r²" class="level2">
<h2 class="anchored" data-anchor-id="rmse-r²">RMSE &amp; R²</h2>
<div id="cell-13" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error, r2_score</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Linear Regression Evaluation</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>lin_mse <span class="op">=</span> mean_squared_error(y_test, y_pred_lin)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>lin_rmse <span class="op">=</span> np.sqrt(lin_mse)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>lin_r2 <span class="op">=</span> r2_score(y_test, y_pred_lin)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Linear Regression RMSE:"</span>, lin_rmse)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Linear Regression R²:"</span>, lin_r2)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Random Forest Evaluation</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>rf_mse <span class="op">=</span> mean_squared_error(y_test, y_pred_rf)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>rf_rmse <span class="op">=</span> np.sqrt(rf_mse)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>rf_r2 <span class="op">=</span> r2_score(y_test, y_pred_rf)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Random Forest RMSE:"</span>, rf_rmse)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Random Forest R²:"</span>, rf_r2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear Regression RMSE: 27955.30096635072
Linear Regression R²: 0.5886498195386475
Random Forest RMSE: 23088.86749334533
Random Forest R²: 0.7193993902706934</code></pre>
</div>
</div>
</section>
<section id="correlation" class="level2">
<h2 class="anchored" data-anchor-id="correlation">Correlation</h2>
<div id="cell-15" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_clean[[<span class="st">"min_years_experience"</span>, <span class="st">"salary"</span>]].corr()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">min_years_experience</th>
<th data-quarto-table-cell-role="th">salary</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">min_years_experience</td>
<td>1.000000</td>
<td>0.510461</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">salary</td>
<td>0.510461</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="feature-importance-for-random-forest" class="level2">
<h2 class="anchored" data-anchor-id="feature-importance-for-random-forest">Feature Importance (for Random Forest)</h2>
<div id="cell-17" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get feature importances</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>importances <span class="op">=</span> rf_reg.feature_importances_</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>feature_names <span class="op">=</span> X_train.columns</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame for easier sorting/plotting</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>feat_imp_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Feature"</span>: feature_names,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Importance"</span>: importances</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>}).sort_values(by<span class="op">=</span><span class="st">"Importance"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot top 10</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>plt.barh(feat_imp_df[<span class="st">"Feature"</span>][:<span class="dv">10</span>], feat_imp_df[<span class="st">"Importance"</span>][:<span class="dv">10</span>])</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Feature Importance"</span>)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Top 10 Feature Importances (Random Forest)"</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>plt.gca().invert_yaxis()</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="multiple_regression_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="insights_top-10-feature-importances-random-forest" class="level2">
<h2 class="anchored" data-anchor-id="insights_top-10-feature-importances-random-forest">Insights_Top 10 Feature Importances (Random Forest):</h2>
<p>This plot displays the top predictors of salary as determined by the Random Forest Regressor. The most important feature is clearly min_years_experience, contributing by far the most to the model’s decision-making. Other important features include: education_levels_name_High school or GED, title_name_Data Analytics Engineers</p>
<p>Employers place strong emphasis on practical experience, sometimes even more than academic credentials. However, education level still plays a meaningful role, especially when combined with technical job titles like “Data Analysts” or “Data Analytics Engineers”. This plot helped us realize that work experience is the top factor to focus on for job readiness, while title and education serve as amplifiers.</p>
</section>
<section id="residual-analysis-for-regression" class="level2">
<h2 class="anchored" data-anchor-id="residual-analysis-for-regression">Residual Analysis (for Regression)</h2>
<div id="cell-20" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>plt.scatter(y_test, y_pred_rf, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Actual Salary"</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Predicted Salary"</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Random Forest Salary Predictions vs. Actual"</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>plt.plot([y_test.<span class="bu">min</span>(), y_test.<span class="bu">max</span>()], [y_test.<span class="bu">min</span>(), y_test.<span class="bu">max</span>()], <span class="st">'r--'</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="multiple_regression_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="insights_random-forest-predictions-vs.-actual-salaries" class="level2">
<h2 class="anchored" data-anchor-id="insights_random-forest-predictions-vs.-actual-salaries">Insights_Random Forest Predictions vs.&nbsp;Actual Salaries:</h2>
<p>This scatter plot compares predicted salaries to actual salaries in the test set. Most of the points cluster near the red dashed ideal prediction line (y = x), meaning the model is performing well. However: At very high salary levels, the predictions begin to underestimate. There is noticeable spread for mid-range salaries, showing some noise.</p>
<p>This plot helped us understand that while Random Forest is strong overall, it may struggle slightly with outliers — especially high-paying jobs, which might be rarer or more influenced by unmeasured variables (like industry-specific bonuses).</p>
</section>
<section id="salary-by-state" class="level2">
<h2 class="anchored" data-anchor-id="salary-by-state">Salary by State</h2>
<div id="cell-23" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by state and calculate mean salary</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>salary_by_state <span class="op">=</span> df_clean.groupby(<span class="st">"state_name"</span>)[<span class="st">"salary"</span>].mean().sort_values(ascending<span class="op">=</span><span class="va">False</span>).reset_index()</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up the figure</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>salary_by_state, x<span class="op">=</span><span class="st">"salary"</span>, y<span class="op">=</span><span class="st">"state_name"</span>, palette<span class="op">=</span><span class="st">"Blues_d"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add labels and title</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Average Salary"</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"State"</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Average Salary by State"</span>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_2980/4203984991.py:9: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `y` variable to `hue` and set `legend=False` for the same effect.

  sns.barplot(data=salary_by_state, x="salary", y="state_name", palette="Blues_d")</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="multiple_regression_files/figure-html/cell-12-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="insights_average-salary-by-state" class="level2">
<h2 class="anchored" data-anchor-id="insights_average-salary-by-state">Insights_Average Salary by State</h2>
<p>This horizontal bar chart ranks U.S. states by average salary from job postings. Top-paying states include: Connecticut, Vermont, New Jersey, and California .Low-paying states include: Mississippi, Nevada, New Mexico</p>
<p>Exploring regional job prospects, this visualization was eye-opening. While we initially expected states like California and New York to lead (and they do rank high), we was surprised to see Connecticut and Vermont at the top — possibly due to fewer postings but higher-paying specialized roles. This plot shows that job seekers can optimize job search by region, especially when relocating is an option. It also raises a good follow-up question: Are these high-salary states also high cost-of-living?</p>
</section>
<section id="remote-vs-on-site-by-state-or-industry" class="level2">
<h2 class="anchored" data-anchor-id="remote-vs-on-site-by-state-or-industry">Remote vs On-site by State or Industry</h2>
<div id="cell-26" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Count plot of remote types by state</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>sns.countplot(data<span class="op">=</span>df_clean, y<span class="op">=</span><span class="st">"state_name"</span>, hue<span class="op">=</span><span class="st">"remote_type_name"</span>, order<span class="op">=</span>df_clean[<span class="st">"state_name"</span>].value_counts().index[:<span class="dv">10</span>])</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Remote vs On-site Jobs by State (Top 10)"</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Number of Postings"</span>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">"Remote Type"</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="multiple_regression_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="insights_remote-vs.-on-site-jobs-by-state-top-10" class="level2">
<h2 class="anchored" data-anchor-id="insights_remote-vs.-on-site-jobs-by-state-top-10">Insights_Remote vs.&nbsp;On-site Jobs by State (Top 10):</h2>
<p>This grouped bar chart breaks down job postings by remote type across the top 10 states with the most postings. Key takeaways: California, Texas, and New York dominate total postings. Remote and hybrid opportunities are more prevalent in tech-heavy states like California, Washington, and Colorado. States like Florida and Texas also show strong representation across all types.</p>
<p>This was particularly useful in tying back to our project topic: Geographic and Remote Work Analysis. we learned that remote work options are not evenly distributed, they follow industry and infrastructure trends. As someone interested in data roles, states with high remote/hybrid ratios (like CA or WA) would offer the most flexibility. It also supports the idea that remote roles often come from urban or tech-forward regions, which we can tie to education and skill clusters found in those same places.</p>
</section>
</section>
<section id="job-seeker-recommendation" class="level1">
<h1>Job Seeker Recommendation</h1>
<p>From our regression analysis and feature importance visualizations (e.g., Top 10 Feature Importances (Random Forest) and Predicted vs Actual Salary Scatterplot), it’s clear that min_years_experience is the most influential factor in predicting salary. Job seekers should actively build experience in their desired field, as it has a stronger salary impact than education alone.</p>
<p>Furthermore, the choropleth map of average salary by state (Average Salary by U.S. State) highlights regions like California, New York, and Washington D.C. as offering the highest average pay. Candidates looking to maximize salary should explore remote or in-person roles based in these states, and leverage tools like location filters when searching for jobs online.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>